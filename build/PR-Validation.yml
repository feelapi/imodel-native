# https://aka.ms/yaml

name: imodel-native-internal-$(Date:yyyy.MM.dd)$(Rev:.r)
trigger: none

pr:
  autoCancel: true
  drafts: false
  branches:
    include:
      - main
  paths:
    exclude:
      - build/NodeAddon_release.yml

resources:
  repositories:
    - repository: iTwinjs-core
      type: github
      name: iTwin/itwinjs-core
      ref: imodel02-PR-validation #temp ref until merge
      endpoint: iTwin
    - repository: imodeljs-build-pipeline-scripts
      type: git
      name: iModelTechnologies/imodeljs-build-pipeline-scripts
      ref: nick/use-python
    - repository: imodel-native-internal
      type: github
      name: iTwin/imodel-native-internal
      endpoint: github.com_imodel-native
      ref: imodel02-PR-validation #temp ref until merge

extends:
  template: /build/templates/PR_Validation_Pipeline.yml@imodel-native-internal
  parameters:
    otherRepo: imodel-native-internal
    iTwinRepo: iTwinjs-core
    scriptsRepo: imodeljs-build-pipeline-scripts